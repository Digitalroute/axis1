<html>
<head>
  <meta http-equiv="Content-Type" content="text/html">
  <title>Axis C++ Linux Installation Guide</title>
</head>

<body>
<h1>Axis C++ Linux Installation Guide</h1>

<p><strong>Contents</strong></p>



<li>
<a href="#Introducti">Introduction</a>
</li>
<li>
<a href="#What">What You Need</a>
</li>
<li>
<a href="#Install">Installing Axis C++</a>
</li>
<li style="list-style: none">
<br>
</li>
</ul>
<p>
<a name="Introduction"></a>
</p>
<div class="h3">
<h3>Introduction</h3>
</div>
<p>This guide will help you to start with Axis C++. This guide will explain the minimum steps needed to build and run Axis C++, and warn you about the common pitfalls.</p>
<p>
<a name="What"></a>
</p>
<div class="h3">
<h3>What You Need</h3>
</div>
<p>You need a few helper libraries for parsing XML, WSDL processing and introspection. You need to have the following in order to run Axis C++ engine.</p>
<p>&nbsp; &nbsp; &nbsp; <a href="http://httpd.apache.org/download.cgi">Apache web server</a> (2.0.x or 1.3.x)&nbsp; - You need to have Apache built with module so support, hence you need to have the source of Apache web server.<br>
<br> Axis C++ uses Apache web server to host services.<br>
</p>
<br>
<p>&nbsp; &nbsp; &nbsp; <a href="http://sourceforge.net/projects/expat/">Expat (1.95.7)</a> and/or <a href="http://archive.apache.org/dist/xml/xerces-c/Xerces-C_2_2_0/">Xerces C++ (2.2.0)</a> XML parser(s)<br>
<br> Axis C++ needs an XML parser to parse SOAP messages and WSDD files. It has a parser abstraction layer that helps users to select/switch between parsers. However only one parser library could be used at a time. Currently only Xerces parsers are supported by Axis C++. Earlier Expat parser was also in use, but due to lack of maintainance it is now under graveyard.(graveyard is the place where obsolete modules were put into rest. If somebody wants to resurrect them go to the graveyard in $AXISCPP_HOME/graveyard) <br>
</p>
<br>
<p>
<a name="Install"></a>
</p>
<div class="h3">
<h3>Installing Axis C++</h3>
</div>
<div class="h4">
<h4>1. Install Apache Web Server</h4>
</div>
<p>In case you have already installed Apache , make sure that 'so modules' are enabled.<br> This is because Axis C++ server engine is implemented as a 'so module'. (For Apache 1.3.x use --enable-module=so; for Apache 2.0.x use --enable-so when configuring. See Apache web server documentation for more details)</p>
<div class="h4">
<h4>2. Install Expat (1.95.7) and/or Xerces C++ (2.2.0)</h4>
</div>
<p>Select an XML parser depending on your parser preferences. See the respective parser's documentation for installation instructions.</p>
<div class="h4">
<h4>3. Download Axis C++</h4>
</div>
<p>
<a href="http://ws.apache.org/axis/cpp/download.html">Download Axis C++</a> source or binary distribution and extract the package.</p>
<div class="h4">
<h4>4. Define the Environment Variables.</h4>
</div>
<p>
<strong>AXISCPP_HOME="Path to Axis C++ source or binary extracted folder"</strong>
<br> e.g. <strong>AXISCPP_HOME="/my/home/axiscpp"</strong>
<br>
<br> 
<strong>AXISCPP_DEPLOY="Path to the folder where you want to install Axis C++"</strong>
<br> e.g. <em>AXISCPP_DEPLOY="/usr/local/axiscpp_deploy"</em>
<br> 
<strong>LD_LIBRARY_PATH="&lt;path to parser library you use&gt;/lib:$AXISCPP_DEPLOY/lib:$LD_LIBRARY_PATH"</strong>
<br> 
<strong>export AXISCPP_HOME AXISCPP_DEPLOY LD_LIBRARY_PATH</strong>
</p>
<div class="h4">
<h4>5. Build Axis C++</h4>
</div>
<p>
<strong>Note:</strong> If you have downloaded Axis C++ binaries, you can skip this step<br>
<br>
<strong>cd $AXISCPP_HOME</strong>
<br>
<br> 
<strong>./configure --prefix=$AXISCPP_DEPLOY --with-apache2=/path/to/Apache2 \&nbsp;&nbsp;&nbsp;&nbsp;--with-xercesc=/path/to/xerces-c</strong>
<br> 
<strong>make</strong>
<br> 
<strong>make install</strong>
<br>
<br> The above set of instructions assume you have Apache 2.0.x web server and Xerces C++ parser.<br>For more information on build options run <strong><em>./configure --help</em></strong>.<br>
<br>The libs created in build process are placed in $AXISCPP_DEPLOY/lib. (Provided that you used $AXISCPP_DEPLOY as --prefix option for configuring). Note that you need permission to install to the specified directory given in prefix option.<br> &nbsp;<br>You need global access rights to the Axis C++ deploy folder to make sure that Axis C++ works properly.<br>
<br> 
<em>chmod -R 777 $AXISCPP_DEPLOY</em>
</p>
<div class="h4">
<h4>6. Configure Apache Module</h4>
</div>
<p>
<strong>Note:</strong> to execute the following steps, you may need to have <strong>super user rights</strong> on your machine.<br>
<br> Now you need to edit <strong>httpd.conf</strong> file in &lt;path to Apache web server installation&gt;/conf and add the following lines at the bottom of that file (assuming you are using Apache 2.0.x):<br>
<br> 
<strong>LoadModule axis_module modules/libaxiscpp_mod2.so</strong>
<br> 
<strong>&lt;Location /axis&gt;</strong>
<br>
<strong>SetHandler axis</strong>
<br>
<strong>&lt;/Location&gt;</strong>
<br>
<br>For Apache1.3.x LoadModule line should read as:<br> 
<strong>LoadModule axis_module libexec/libaxiscpp_mod.so</strong>
</p>
<div class="h4">
<h4>7. Configure Server Deployment Descriptor File</h4>
</div>
<p>Now you need the server deployment descriptor (server.wsdd) to deploy server samples you built.<br> There is a sample deployment descriptor called server.wsdd_linux in $AXISCPP_DEPLOY/etc to help to deploy samples.<br> Edit this file to match your system settings (because the server.wsdd_linux file assumes that you have installed the binaries in /usr/local/axiscpp_deploy, you may need to change the folder names) and copy it to server.wsdd.<br>server.wsdd file is an XML file, and the contents are self descriptive.</p>
<div class="h4">
<h4>8. Set Engine Wide Settings in Configuration File</h4>
</div>
<p>Axis C++ uses a configuration file to let the user specify preferences such as log file locations, transport and parser libs to be used and location of deployment descriptor files.<br> A sample configuration file named axiscpp.conf_linux is installed in $AXISCPP_DEPLOY/etc folder. Edit this file to match your systems settings (because the axiscpp.conf_linux file assumes that you have installed the binaries in /usr/local/axiscpp_deploy, you may need to change the folder names) and copy it to axiscpp.conf<br>
<br> Configuration file has the following <strong>Syntax:</strong>
</p>
<br>
<p>The comment character is '#'<br>WSDDFilePath - Path to the server wsdd file<br>ClientWSDDFilePath - Path to the client wsdd<br>LogPath - Path to the Axis C++ server log<br> ClientLogPath - Path to the Axis C++ client log<br>Transport_http - HTTP transport library<br>XMLParser - XML parser library</p>
<br>
<p>A sample <strong>axiscpp.conf</strong> file:</p>
<pre>LogPath:/usr/local/axiscpp_deploy/log/AxisLog
WSDDFilePath:/usr/local/axiscpp_deploy/etc/server.wsdd
ClientLogPath:/usr/local/axiscpp_deploy/log/AxisClientLog
XMLParser:/usr/local/axiscpp_deploy/lib/libaxis_xercesc.so
Transport_http:/usr/local/axiscpp_deploy/lib/libaxis2_transport.so
</pre>
<div class="h4">
<h4>9. Deploying with Apache Web Server</h4>
</div>
<p>Now we need to copy Apache module (libaxiscpp_mod2.so for Apache 2.0.x and libaxiscpp_mod.so for Apache 1.3.x) to the correct places and start Apache web server. The steps to follow are:</p>
<ol>
<li>Copy libaxiscpp_mod2.so to /&lt;your Apache 2.0.x home&gt;/modules (or copy libaxiscpp_mod.so to /&lt;your Apache 1.3.x home&gt;/libexec)</li>
<li>Start Apache /&lt;path to Apache installation&gt;/bin/apachectl start</li>
</ol>
<p>To do the same you can you can use scripts in $AXISCPP_DEPLOY/bin.</p>
<strong>cd $AXISCPP_DEPLOY/bin</strong>
<br>
<p>To deploy with Apache 2.0.x</p>
<strong>sh deploy_apache2.sh</strong>
<br>
<p>To deploy with Apache 1.3.x</p>
<strong>sh deploy_apache.sh</strong>
<br>
<p>Note that these scripts rename libaxis_xercesc.so (the default parser library) to libaxis_xmlparser.so.<br>
<br> if you need to use a different parser or want to switch parsers time to time, you need to edit the script and comment out the line:<br> 
<strong>cp -f ${AXISCPP_DEPLOY}/lib/libaxis_xercesc.so ${AXISCPP_DEPLOY}/lib/libaxis_xmlparser.so</strong>
<br>
<br>and make sure that you have specified the name of the parser lib correctly in your config file ${AXISCPP_DEPLOY}/etc/axiscpp.conf.</p>
<div class="h4">
<h4>10. See Axis C++ in action</h4>
</div>
<p>Now the installation is complete. You can verify that the server side is working by accessing the URL <a href="http://localhost/axis">http://localhost/axis</a> using your web browser. You should get the Axis C++ welcome page and this page will show you a list of deployed services as specified by the $AXISCPP_DEPLOY/conf/server.wsdd file.</p>
<br>
<p>Now you can run a client sample and see if it works.</p>
<strong>cd $AXISCPP_DEPLOY/bin</strong>
<br>
<strong>./base</strong>
<p>To help you run several samples at once there is a script named <strong>run_interoptests.sh</strong> in $AXISCPP_DEPLOY/bin folder. You can try running that as well.</p>
<div class="h4">
<h4>11. Simple axis server installation</h4>
</div>
<p>1. Build the source distribution as mentioned above.</p>
<p>2. Make sure that you have set the <strong>AXISCPP_DEPLOY</strong> environment variable to point to your deployment folder as mentioned above</p>
<p>3.Copy <strong>$AXISCPP_DEPLOY/etc/axiscpp.conf_linux</strong> to <strong>$AXISCPP_DEPLOY/etc/axiscpp.conf</strong>
</p>
<p>and make sure that the contents of that file match your system settings</p>
<p>4. Run simple axis server in <strong>$AXISCPP_DEPLOY/bin</strong>
<br>Synopsis: simple_axis_server server-port Where server-port is the port on which you would like the server to listen for client requests.</p>
<p>For Example</p>
<p>
<strong>cd $AXISCPP_DEPLOY/bin</strong>
</p>
<p>
<strong>./simple_axis_server 9090</strong>
</p>
<p>5. Run clients in <strong>$AXISCPP_DEPLOY/bin</strong>
</p>
<p>On a different shell:</p>
<p>
<strong>cd $AXISCPP_DEPLOY/bin</strong>
</p>
<p>
<strong>./base http://localhost:9090/axis/base</strong>
</p>
<p>Similarly you could run the other samples.

<div id="pdf" align="right">
<a href="lininstall-guide.pdf"><img alt="PDF" src="../skin/images/pdfdoc.gif" class="skin"><br>
          PDF</a>

</p>
</body>
</html>
